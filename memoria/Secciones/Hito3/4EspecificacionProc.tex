\chapterA{Especificación del procesamiento de impresión} 

\begin{lstlisting}

imprime(bloq(decs,instr)):

    imprime(decs)
    nl
    imprime (instr)
    nl
imprime(dec_proc(proc)):
    print "<"
    print proc
    print ">"
imprime(dec_type(type)):
    print "<"
    print type
    print ">"
imprime(tipo_bool(bool)):
    print "<"
    print Bool
    print ">"
imprime(tipo_int(int)):
    print "<"
    print int
    print ">"
imprime(tipo_real(real)):
    print "<"
    print real
    print ">"
imprime(tipo_string(string)):
    print "<"
    print string
    print ">"
imprime(tipo_ident(Id)):
    print Id
imprime(tipo_struct(struct)):
    print "<"
    print struct
    print ">"
    
imprime(inst_if(if)):
    print "<"
    print if
    print ">"
imprime(inst_else(else)):
    print "<"
    print else
    print ">"
imprime(inst_while(while)):
    print "<"
    print if
    print ">"
imprime(inst_if(new)):
    print "<"
    print new
    print ">"
imprime(inst_delete(delete)):
    print "<"
    print delete
    print ">"
imprime(inst_read(read)):
    print "<"
    print read
    print ">"
imprime(inst_write(write)):
    print "<"
    print write
    print ">"
imprime(inst_call(call)):
    print "<"
    print call
    print ">"
imprime(nl(nl)):
    print "<"
    print nl
    print ">"
imprime(exp_and(and)):
    print "<"
    print and
    print ">"
imprime(exp_or(or)):
    print "<"
    print or
    print ">"
imprime("not"(not)):
    print "<"
    print not
    print ">"
imprime(exp_true(true)):
    print "<"
    print true
    print ">"
imprime(exp_false(false)):
    print "<"
    print false
    print ">"
imprime(exp_null(null)):
    print "<"
    print null
    print ">"
    
imprime(lit_Ent(N)):
    print N
imprime(lit_Real(R)):
    print R
imprime(lit_Cad(C)):
    print C
imprime (EOF(eof)):
    print "<"
    print EOF
    print ">"

imprime(exp_suma(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,"+",Opnd1,2,3)
imprime(exp_resta(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,"-",Opnd1,3,3)
imprime(exp_and(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,"and",Opnd1,4,3)
imprime(exp_or(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,"or",Opnd1,4,4)
imprime(exp_mult(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,"*",Opnd1,4,5)
imprime(exp_div(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“/",Opnd1,4,5)
imprime(exp_mod(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“%",Opnd1,4,5)

imprime(exp_men(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“<",Opnd1,1,2)
imprime(exp_menIgual(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“<=",Opnd1,1,2)
imprime(exp_mayor(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“>",Opnd1,1,2)
imprime(exp_mayIgual(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“>=",Opnd1,1,2)
imprime(exp_igual(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“==",Opnd1,1,2)
imprime(exp_dist(Opnd0,Opnd1)):
    imprimeExpBin(Opnd0,“!=",Opnd1,1,2)

imprime(exp_menos(Opnd0)):
    imprimeExpBin(“-",Opnd0,6)
imprime(exp_not(Opnd0)):
    imprimeExpBin(“not",Opnd0,6)
imprime(exp_index(Opnd0)):
    imprimeExpBin(“E0.a?",Opnd0,6)
imprime(exp_reg(Opnd0)):
    imprimeExpBin(“Id?",Opnd0,6)
imprime(exp_ind(Opnd0)):
    imprimeExpBin("^",Opnd0,6)

imprimeExpUnario(Opnd0,Op,np0):
    print " "++Op++" "
    imprimeOpnd(Opnd0,np0)
       
imprimeExpBin(Opnd0,Op,Opnd1,np0,np1):
    imprimeOpnd(Opnd0,np0)
    print " "++Op++" "
    imprimeOpnd(Opnd1,np1)
    
imprimeOpnd(Opnd,MinPrior):
    if prioridad(Opnd) < MinPrior
        print “(“
    end if
    imprime(Opnd)
    if prioridad(Opnd) < MinPrior
        print “)“
    end if    


prioridad(exp_suma(_,_)): return 2
prioridad(exp_resta(_,_)): return 2
prioridad(exp_and(_,_)): return 3
prioridad(exp_or(_,_)): return 3
prioridad(exp_mul(_,_)): return 4
prioridad(exp_div(_,_)): return 4
prioridad(exp_mod(_,_)): return 4

prioridad(exp_men(_,_)): return 1
prioridad(exp_menorIgual(_,_)): return 1
prioridad(exp_mayor(_,_)): return 1
prioridad(exp_mayIgual(_,_)): return 1
prioridad(exp_igual(_,_)): return 1
prioridad(exp_dist(_,_)): return 1


prioridad(exp_menos(_)): return 5
prioridad(exp_not(_)): return 5
prioridad(exp_index(_)): return 6
prioridad(exp_reg(_)): return 6
prioridad(exp_ind(_)): return 6




\end{lstlisting}